import{r as d,j as t,u as g,y as T,s as j}from"./app-D7ThmXG-.js";import{s as C,g as _}from"./schedule-thunk-yiaNPBTz.js";import{A as y}from"./Alert-DFAIbrSc.js";import{T as P}from"./TextField-Bz9i1Quu.js";import{a as I,g as z,c as D,b}from"./identifier-BIS-cLTt.js";import{u as F,F as L}from"./utils-B3EpqZ0H.js";import{s as N,m as R,u as B,c as M}from"./DefaultPropsProvider-BdfVf-P0.js";import{T as $}from"./Typography-Dwcwi9aQ.js";import{S as k}from"./Search-CkXJouCJ.js";import{T as H,a as U,b as V,c as w,d as h,e as K}from"./TableRow-cMEWx9ou.js";import{P as O}from"./Paper-BBmgxJHO.js";import{B as q}from"./Button-PtmBWDdT.js";import{c as G}from"./createSvgIcon-B8qTrteI.js";import"./examiner-service-C9Ak9nwM.js";import"./useSlot-DhJQyCVw.js";import"./resolveComponentProps-1_mVQ0pE.js";import"./ButtonBase-TdJsA59X.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./IconButton-MPY-3TeZ.js";import"./FormLabel-BsSIcPd6.js";import"./isMuiElement-DZHXq-tb.js";import"./useId-Cj0f0pIr.js";import"./Select-BtqlKPLV.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-DF8o3eco.js";import"./Popover-BOnJ4dOZ.js";import"./useTheme-QXSA6olV.js";import"./isHostComponent-DVu5iVWx.js";import"./Modal-DC8YkuD5.js";import"./ownerWindow-CO8Ksk3k.js";import"./useTheme-CtGgpbUD.js";import"./utils-DYwAVIcT.js";import"./debounce-Be36O1Ab.js";import"./Grow-D4IPrCa2.js";import"./useSlotProps-C4uxflOB.js";import"./useControlled-CelIzi-a.js";import"./InputBase-BnE1HrGE.js";import"./index-CoVsUlkC.js";import"./extendSxProp-T2ce5aww.js";function J(s){return I("MuiInputAdornment",s)}const E=z("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var A;const Q=(s,n)=>{const{ownerState:o}=s;return[n.root,n[`position${b(o.position)}`],o.disablePointerEvents===!0&&n.disablePointerEvents,n[o.variant]]},W=s=>{const{classes:n,disablePointerEvents:o,hiddenLabel:p,position:a,size:i,variant:l}=s,c={root:["root",o&&"disablePointerEvents",a&&`position${b(a)}`,l,p&&"hiddenLabel",i&&`size${b(i)}`]};return M(c,J,n)},X=N("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Q})(R(({theme:s})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(s.vars||s).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${E.positionStart}&:not(.${E.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Y=d.forwardRef(function(n,o){const p=B({props:n,name:"MuiInputAdornment"}),{children:a,className:i,component:l="div",disablePointerEvents:c=!1,disableTypography:x=!1,position:m,variant:u,...f}=p,e=F()||{};let r=u;u&&e.variant,e&&!r&&(r=e.variant);const v={...p,hiddenLabel:e.hiddenLabel,size:e.size,disablePointerEvents:c,position:m,variant:r},S=W(v);return t.jsx(L.Provider,{value:null,children:t.jsx(X,{as:l,ownerState:v,className:D(S.root,i),ref:o,...f,children:typeof a=="string"&&!x?t.jsx($,{color:"textSecondary",children:a}):t.jsxs(d.Fragment,{children:[m==="start"?A||(A=t.jsx("span",{className:"notranslate",children:"â€‹"})):null,a]})})})}),Z=G(t.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox");function $e(){const[s,n]=d.useState({}),[o,p]=d.useState({}),{students:a}=g(e=>e.students),{examiners:i}=g(e=>e.schedule),[l,c]=d.useState(null);function x(e){return new Date(e.end_at)<new Date}const m=x((i==null?void 0:i.schedule)??{});console.log("over_due",m),d.useEffect(()=>{var e,r;window.location.search&&n({search:(r=(e=window.location.search)==null?void 0:e.split("=")[1])==null?void 0:r.replace("?","")})},[]),console.log("examiners",i),d.useEffect(()=>{const e=setTimeout(()=>{c(null)},1500);return()=>clearTimeout(e)},[l]);async function u(e){T.visit(window.location.pathname+"?search="+(s.search==null?"":s.search))}async function f(e){const r=await j.dispatch(C({...e,examiner_id:e.id,reference_id:window.location.pathname.split("/")[3]}));console.log("result",r.data.response),r.data.response=="exist"?c("error"):(c("success"),await j.dispatch(_(window.location.pathname.split("/")[3])))}return t.jsxs("div",{className:" flex flex-col gap-3",children:[l=="success"&&t.jsx(y,{variant:"filled",severity:"success",children:"Examiner Added!"}),l=="error"&&t.jsx(y,{variant:"filled",severity:"error",children:"Examiner is already exist!"}),t.jsx(P,{value:s.search,onChange:e=>n({...s,[e.target.name]:e.target.value}),slotProps:{input:{startAdornment:t.jsx(Y,{position:"start",children:t.jsx(k,{})})}},onKeyDown:e=>{e.key==="Enter"&&u()},error:!!(o!=null&&o.search),helperText:o==null?void 0:o.search,name:"search",type:"text",id:"outlined-basic",label:"Search...",variant:"outlined",className:"w-full"}),t.jsx(H,{component:O,children:t.jsxs(U,{"aria-label":"simple table",children:[t.jsx(V,{children:t.jsxs(w,{children:[t.jsx(h,{children:t.jsx("div",{className:"font-bold",children:"Fullname"})}),t.jsx(h,{align:"right",children:t.jsx("div",{className:"font-bold",children:"Action"})})]})}),t.jsx(K,{children:a==null?void 0:a.data.map((e,r)=>t.jsxs(w,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[t.jsx(h,{children:e.name}),t.jsx(h,{align:"right",children:t.jsx(q,{disabled:m,onClick:()=>f(e),size:"small",variant:"text",color:"success",children:t.jsx(Z,{fontSize:"large"})})})]},r))})]})})]})}export{$e as default};

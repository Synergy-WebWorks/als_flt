import{r as o,u as q,j as e,s as g}from"./app-e6rWyYVf.js";import{C as T}from"./Close-CP1uaYUk.js";import{R as D}from"./quill.snow-Bav6WT-G.js";import{s as R,g as B}from"./questionaires-thunk-4b5olrsh.js";import{s as Q}from"./DefaultPropsProvider-D99qqmZm.js";import{B as r}from"./Button-C82snjPn.js";import{D as L}from"./Dialog-B24kvQtt.js";import{T as u}from"./Toolbar-Bq63x52L.js";import{T as j}from"./Typography-BvscxRtI.js";import{I as A}from"./IconButton-BElscCtP.js";import{T as E,F as b,I as H,S as M}from"./TextField-BkvikbCc.js";import{C as _}from"./Check-X4wUsSDp.js";import{C as v}from"./CloudUpload-BVRpz6n1.js";import{F as w}from"./FormControl-CyC-sMwY.js";import{F as O}from"./FormLabel-Bs_H50SU.js";import{R as U,F as m,a as c}from"./RadioGroup-C0G_e3zE.js";import{M as C}from"./MenuItem-B30qtg6J.js";import"./createSvgIcon-B5WPEJ-Q.js";import"./identifier-MlCxs06g.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./ButtonBase-BiMhmmea.js";import"./useTheme-B16bnwdc.js";import"./useTheme-Duc-gNI5.js";import"./Modal-DYbgwzhv.js";import"./ownerWindow-CO8Ksk3k.js";import"./resolveComponentProps-DLYgXOUA.js";import"./createChainedFunction-BO_9K8Jh.js";import"./useSlot-3Dp0YMku.js";import"./utils-BwyEbnJZ.js";import"./Paper-xeCb6caf.js";import"./useId-DqAnuWC7.js";import"./index-C_mXZiSl.js";import"./extendSxProp-DJkw9J28.js";import"./utils-B_vPWN1S.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-BO2vwM_O.js";import"./Popover-zSxRalTw.js";import"./isHostComponent-DVu5iVWx.js";import"./debounce-Be36O1Ab.js";import"./Grow-BeN28UQs.js";import"./useSlotProps-BP43uqDU.js";import"./useControlled-DSrGnASz.js";import"./InputBase-BANdJznC.js";import"./isMuiElement-4fgA_g5R.js";import"./SwitchBase-9itUBxRJ.js";import"./listItemIconClasses-BVfy_4IB.js";function Qe(){const[y,p]=o.useState(!1),[a,n]=o.useState({}),[i,k]=o.useState({}),[N,l]=o.useState(!1),f=window.location.pathname.split("/")[4],{specifications:F}=q(t=>t.questionnaires);console.log("specification",a);const I=()=>{p(!0)},x=()=>{p(!1)};async function S(t){const s=new FormData;s.append("examination_id",f),a.question&&s.append("question",a.question),a.answer_key&&s.append("answer_key",a.answer_key),a.specification&&s.append("specification",a.specification),a.a&&s.append("a",a.a),a.b&&s.append("b",a.b),a.c&&s.append("c",a.c),a.d&&s.append("d",a.d),s.append("e",a.e),s.append("title",a.title),s.append("item_number",a.item_number),s.append("image_a",a.image_a),s.append("image_b",a.image_b),s.append("image_c",a.image_c),s.append("image_d",a.image_d),s.append("image_e",a.image_e),s.append("image_header",a.image_header);try{l(!0);const d=await g.dispatch(R(s));d.status==200?(await g.dispatch(B(f)),n({}),l(!1),p(!1)):(l(!1),k(d.response.data.errors)),console.log("datass",a)}catch{l(!1)}}const h=Q("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});return e.jsxs(o.Fragment,{children:[e.jsx(r,{variant:"outlined",onClick:I,children:"Create Questionnaire"}),e.jsxs(L,{fullWidth:!0,open:y,onClose:x,children:[e.jsxs(u,{className:"flex items-center justify-end",children:[e.jsx(j,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Create Questionnaire"}),e.jsx(A,{edge:"start",color:"inherit",onClick:x,"aria-label":"close",children:e.jsx(T,{})})]}),e.jsxs(u,{className:"flex-col gap-3 flex items-start justify-start w-full",children:[e.jsxs("div",{className:"w-full flex gap-4 flex-col",children:[e.jsx(E,{onChange:t=>n({...a,[t.target.name]:t.target.value}),error:!!(i!=null&&i.item_number),helperText:(i==null?void 0:i.item_number)??"",name:"item_number",type:"number",id:"outlined-basic",label:"Item Number",variant:"outlined",className:"w-full"}),e.jsxs(r,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_header?e.jsx(_,{}):e.jsx(v,{}),children:[a!=null&&a.image_header?a==null?void 0:a.image_header.name:"Upload files",e.jsx(h,{name:"image_header",type:"file",onChange:t=>n({...a,[t.target.name]:t.target.files[0]}),accept:"image/*"})]}),e.jsxs("div",{className:"bg-white ",children:[(i==null?void 0:i.question)&&e.jsx("div",{className:"text-red-600",children:i==null?void 0:i.question}),e.jsx("div",{className:"text-black p-3 font-black",children:"Questions"}),e.jsx(D,{theme:"snow",className:"text-black  h-52",onChange:t=>n({...a,question:t})})]})]}),e.jsx("div",{className:"flex items-start justify-start w-full mt-12",children:e.jsxs(w,{error:!!(i!=null&&i.answer_key),children:[e.jsx(O,{id:"demo-row-radio-buttons-group-label",children:"Answer Key"}),e.jsxs(U,{onChange:t=>n({...a,[t.target.name]:t.target.value}),row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"answer_key",children:[e.jsx("div",{children:e.jsx(m,{value:"A",control:e.jsx(c,{}),label:"A"})}),e.jsx(m,{value:"B",control:e.jsx(c,{}),label:"B"}),e.jsx(m,{value:"C",control:e.jsx(c,{}),label:"C"}),e.jsx(m,{value:"D",control:e.jsx(c,{}),label:"D"})]}),(i==null?void 0:i.answer_key)&&e.jsx(b,{children:i.answer_key})]})}),e.jsx("div",{className:"flex gap-3 w-full",children:e.jsx(r,{component:"label",role:void 0,variant:"contained",className:"w-full",size:"large",startIcon:a!=null&&a.image_a?e.jsx(_,{}):e.jsx(v,{}),children:e.jsx(h,{name:"image_a",type:"file",onChange:t=>n({...a,[t.target.name]:t.target.files[0]}),accept:"image/*"})})}),e.jsxs(w,{fullWidth:!0,error:!!(i!=null&&i.specification),children:[e.jsx(H,{id:"demo-simple-select-label",children:"Specification"}),e.jsxs(M,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"specification",label:"Specification",onChange:t=>n({...a,[t.target.name]:t.target.value}),value:a.specification??"",children:[e.jsx(C,{selected:!0,disabled:!0}),F.data.map((t,s)=>e.jsx(C,{value:t.specification,children:t.specification},s))]}),(i==null?void 0:i.specification)&&e.jsx(b,{children:i.specification})]}),e.jsx("div",{className:"mt-6 flex w-full items-end justify-end",children:e.jsxs(u,{children:[e.jsx(j,{sx:{ml:2,flex:1},variant:"h6",component:"div"}),e.jsx(r,{disabled:N,variant:"contained",autoFocus:!0,onClick:S,children:"save"})]})})]})]})]})}export{Qe as default};

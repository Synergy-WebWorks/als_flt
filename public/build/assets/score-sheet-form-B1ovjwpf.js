import{u as f,r as x,s as b,j as e}from"./app-pP-jKbbd.js";import g from"./edit-score-section-CEWBvgDv.js";import{g as _}from"./app-thunk-Cwow6D-w.js";import{C as E}from"./Check-D3kJfAZg.js";import{C as y}from"./Close-CGGPNtEP.js";import"./students-thunk-DE1APn_t.js";import"./Button-HiYe30Oz.js";import"./identifier-D6jO2D5b.js";import"./DefaultPropsProvider-CvfLAWPL.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./ButtonBase-D58f27Gd.js";import"./Edit-B-d1qcM3.js";import"./createSvgIcon-CwO89y-A.js";import"./user-service-ClJnRd71.js";function z(){var u;const{student:i}=f(t=>t.students),{user:p}=f(t=>t.app),[j,h]=x.useState(0),r=i==null?void 0:i.score_sheet,o=((u=r==null?void 0:r.booklet)==null?void 0:u.examinations)??[],c=(r==null?void 0:r.answers)||[];return console.log("userusedadsadr",p.user_type),x.useEffect(()=>{b.dispatch(_())},[]),x.useEffect(()=>{const t=o.reduce((d,m)=>d+m.question.reduce((l,n)=>{const s=c.find(a=>a.questionnaire_id===n.id);return l+(parseInt(s==null?void 0:s.score)||0)},0),0);h(t)},[o,c]),e.jsx("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-xl p-5 rounded-md border border-gray-300 shadow-lg bg-white",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"text-xl font-black text-center",children:"FLT LEATHER SCORESHEET"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:["Name: ",(i==null?void 0:i.name)||"N/A"]}),e.jsxs("div",{children:["Date: ",(r==null?void 0:r.date)||"N/A"]})]}),e.jsxs("div",{children:["Overall Score: ",j??"0"]}),e.jsxs("div",{children:["ALS Level: ",(r==null?void 0:r.als_level)??"N/A"]})]}),e.jsx("ol",{className:"list-decimal mt-4 space-y-4",children:o.map((t,d)=>{const m=t.question.reduce((l,n)=>{const s=c.find(a=>a.questionnaire_id===n.id);return l+(parseInt(s==null?void 0:s.score)??0)},0);return e.jsxs("li",{className:"border border-black p-3 rounded-md",children:[e.jsx("div",{className:"flex items-center justify-between font-semibold",children:e.jsxs("div",{children:[t.title&&e.jsx("div",{children:t.title}),t.sub_title&&e.jsx("div",{children:t.sub_title})]})}),e.jsx("div",{className:"mt-2 space-y-2",children:t.question.map((l,n)=>{const s=c.find(N=>N.questionnaire_id===l.id),v=((s==null?void 0:s.score)||0)>0;return e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("span",{className:"font-medium",children:[l.item_number,"."]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:(s==null?void 0:s.answer)||"N/A"}),v?e.jsx(E,{className:"text-green-600","aria-label":"Correct"}):e.jsx(y,{className:"text-red-600","aria-label":"Incorrect"}),p.user_type=="1"&&s.answer.length!=1&&e.jsxs(e.Fragment,{children:[s.score," ",e.jsx(g,{data:s})]})]})]},n)})}),e.jsxs("div",{className:"font-bold text-right mt-2",children:["Score: ",parseInt(m)]})]},d)})})]})})}export{z as default};

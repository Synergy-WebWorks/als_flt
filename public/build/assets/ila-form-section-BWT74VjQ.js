import{g as y,u as N,r as i,j as e,s as k}from"./app-t-HVNerJ.js";import{g as R}from"./app-thunk-27FO6hwe.js";import l from"./edit-ila-form-components-B2quePeD.js";import{u as E}from"./examiner-service-D-d7gQf6.js";import{b as F}from"./students-thunk-C30UEQAX.js";import{B as t}from"./Box-C3Df-sJ_.js";import"./user-service-CWdg_Ipb.js";import"./identifier-e0ufHd72.js";import"./useTheme-Dc1Sdo5z.js";import"./extendSxProp-DEyf0VWJ.js";function T(){var u,h,j,g;const d=y(),{student:r,scoresheet:a}=N(s=>s.students),{user:x}=N(s=>s.app);(u=r==null?void 0:r.score_sheet)==null||u.answers;const[c,m]=i.useState(""),o=(h=a==null?void 0:a.answers)==null?void 0:h.filter(s=>s.score==0),[f,n]=i.useState(!1),p=new URLSearchParams(window.location.search),v=window.location.pathname.split("/")[4],b=window.location.pathname.split("/")[5];p.get("examiner"),i.useEffect(()=>{d(R())},[d]),i.useEffect(()=>{var s;m(((s=a==null?void 0:a.examiner)==null?void 0:s.learning_center)??"")},[f]),console.log("texttext",c);function _(s){x.user_type=="2"&&n(!0)}async function L(s){if(x.user_type=="2"&&s.key=="Enter")try{await E({id:a.examiner.id,learning_center:c}),k.dispatch(F(v,b)),n(!1)}catch{n(!1)}}return e.jsxs("div",{className:"flex flex-col py-3 mx-12",children:[e.jsx("div",{className:"uppercase flex items-center justify-center text-xl font-black",children:"Individual Learning Agreement"}),e.jsxs("div",{className:"flex gap-3 items-center justify-between",children:[e.jsxs("div",{children:["Name of Learner: ",(j=a==null?void 0:a.user)==null?void 0:j.name]}),e.jsx("div",{children:"Community Learning Center: ALS"})]}),e.jsxs("div",{className:"flex gap-3 items-center justify-between",children:[e.jsxs("div",{children:["Level: ",a==null?void 0:a.als_level]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{children:"Name of Learning Facilitator:"}),f?e.jsx("input",{onKeyUp:L,className:"w-full h-full  ",value:c,onChange:s=>m(s.target.value),onBlur:()=>n(!1),autoFocus:!0}):e.jsx("div",{onDoubleClick:()=>_(),children:((g=a==null?void 0:a.examiner)==null?void 0:g.learning_center)??"No Learning Center"})]})]}),e.jsx("div",{className:"py-5",children:"Direction: Write your learning goals, your learning activities or strategies in order to attain these goals, and the timeline."}),e.jsx(t,{sx:{border:1},children:e.jsxs("div",{className:"flex",children:[e.jsxs(t,{className:"w-[28%]  flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Learning Goals"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Kasanayang Gusto Kong Matutunan)"})]}),e.jsxs(t,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Delivery Mode"}),e.jsx("div",{className:"w-full text-xs text-center",children:"Mga Pamamaraan sa Pagkatuto (Face to face, Independent Learning, BRI, eLearning/Eskwela)"})]}),e.jsxs(t,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Timeline"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Kailan mo ito gustong matutunan?)"})]}),e.jsx(t,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsxs(t,{className:"w-full h-full flex flex-col items-center justify-center text-lg text-center",children:[e.jsx("div",{className:"font-bold",children:"Review of Learning Goals"}),e.jsxs(t,{sx:{borderTop:1},className:"flex items-center w-full h-full justify-center",children:[e.jsx(t,{sx:{borderRight:1},className:"h-full w-[33.33%] text-xs",children:"Achieved (Nakamtan)"}),e.jsx(t,{sx:{borderRight:1},className:"h-full w-[33.33%] text-xs",children:"Not Achieved (Hindi Nakamtan)"}),e.jsx(t,{className:"w-[33.33%] h-full text-xs",children:"Date of Review (Petsa ng pagsusuri)"})]})]})}),e.jsxs(t,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Learning Facilitators"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Payo ng Learning Facilitator)"})]})]})}),o==null?void 0:o.map((s,w)=>e.jsx(t,{sx:{borderLeft:1,borderRight:1,borderBottom:1},children:e.jsxs("div",{className:"flex",children:[e.jsx(t,{className:"w-[28%]  flex flex-col items-center justify-center",children:e.jsx("div",{className:" text-sm m-2",children:s.questionnaire.specification})}),e.jsx(t,{className:"w-[18%] ",sx:{borderLeft:1},children:e.jsx(l,{column:"delivery_mode",data:s})}),e.jsx(t,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsx(l,{column:"timeline",data:s})}),e.jsx(t,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsxs(t,{className:"flex items-center w-full h-full justify-center",children:[e.jsx(t,{sx:{borderRight:1},className:"h-full w-[33.33%]",children:e.jsx(l,{column:"achieved",data:s})}),e.jsx(t,{sx:{borderRight:1},className:"h-full w-[33.33%]",children:e.jsx(l,{column:"not_achieved",data:s})}),e.jsx(t,{className:"w-[33.33%] h-full",children:e.jsx(l,{column:"date_of_review",data:s})})]})}),e.jsx(t,{className:"w-[18%] ",sx:{borderLeft:1},children:e.jsx(l,{data:s})})]})},w))]})}export{T as default};

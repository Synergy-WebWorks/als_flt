import{g as F,u as L,r,j as e,s as R,y as C}from"./app-C9b77vz4.js";import{g as S}from"./app-thunk-DfhWPzdY.js";import l from"./edit-ila-form-components-DpO7x0ix.js";import{u as B}from"./examiner-service-Dyk7e20m.js";import{b as P,c as D}from"./students-thunk-CZyVGoeF.js";import{P as A}from"./Print-CM1KS3M2.js";import{B as s}from"./Box-Ccu0qba4.js";import{F as K}from"./FormLabel-BD3KWnzi.js";import{I as M,S as G}from"./Select-CYNfAj04.js";import{M as n}from"./MenuItem-tx60y2jJ.js";import"./user-service-BlKJjLhH.js";import"./createSvgIcon-CXdD291f.js";import"./identifier-fYl0oANl.js";import"./DefaultPropsProvider-CXo9Jn6j.js";import"./useTheme-C2ZDqwvh.js";import"./extendSxProp-NhTOm2iB.js";import"./utils-CriqkB7I.js";import"./isMuiElement-CInHr3Sx.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-NKe-Og5L.js";import"./Popover-BBfT_RRG.js";import"./isHostComponent-DVu5iVWx.js";import"./useSlot-C9L7Oiug.js";import"./resolveComponentProps-Dd5y9uUQ.js";import"./ButtonBase-l4g-nKoq.js";import"./Modal-Bp3JNuOm.js";import"./ownerWindow-CO8Ksk3k.js";import"./useTheme-BEH0c3UF.js";import"./utils-NNTzeXLV.js";import"./Paper-BkvUH-Od.js";import"./debounce-Be36O1Ab.js";import"./Grow-B3_3pFvp.js";import"./useSlotProps-6bokEVs5.js";import"./useControlled-CAubAx7C.js";import"./useId-CmPuvEBp.js";import"./InputBase-DUKcO7XU.js";import"./index-CHwFlYWn.js";import"./listItemIconClasses-BghAVNXn.js";function Le(){var v,w,N,b,_;const f=F(),{student:c,scoresheet:i}=L(t=>t.students),{user:u}=L(t=>t.app);(v=c==null?void 0:c.score_sheet)==null||v.answers;const[o,h]=r.useState(""),d=(w=i==null?void 0:i.answers)==null?void 0:w.filter(t=>t.score==0),[p,a]=r.useState(!1),j=new URLSearchParams(window.location.search),g=j.get("reference_id"),m=window.location.pathname.split("/")[4],x=window.location.pathname.split("/")[5];j.get("examiner"),r.useEffect(()=>{f(S())},[f]),r.useEffect(()=>{var t;h(((t=i==null?void 0:i.examiner)==null?void 0:t.learning_center)??"")},[p]),console.log("texttext",o);function I(t){u.user_type=="2"&&a(!0)}async function k(t){if(u.user_type=="2"&&t.key=="Enter")try{await B({id:i.examiner.id,learning_center:o}),R.dispatch(P(m,x)),a(!1)}catch{a(!1)}}async function E(t){await D({id:0,booklet_id:x,student_id:m,value:t.target.value,reference_id:g}),C.visit(window.location.href)}return e.jsxs("div",{className:"flex flex-col py-3 mx-12",children:[e.jsx("div",{children:e.jsxs("a",{href:`/get_ila/${m}/${x}?reference_id=${g}`,target:"_blank",children:[e.jsx(A,{})," Print"]})}),e.jsx("div",{className:"uppercase flex items-center justify-center text-xl font-black",children:"Individual Learning Agreement"}),e.jsxs("div",{className:"flex gap-3 items-center justify-between",children:[e.jsxs("div",{children:["Name of Learner: ",(N=i==null?void 0:i.user)==null?void 0:N.name]}),e.jsx("div",{children:"Community Learning Center: ALS"})]}),e.jsxs("div",{className:"flex gap-3 items-center justify-between",children:[e.jsxs("div",{children:["Level: ",i==null?void 0:i.als_level]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{children:"Name of Learning Facilitator:"}),p?e.jsx("input",{onKeyUp:k,className:"w-full h-full  ",value:o,onChange:t=>h(t.target.value),onBlur:()=>a(!1),autoFocus:!0}):e.jsx("div",{onDoubleClick:()=>I(),children:((_=(b=i==null?void 0:i.schedule)==null?void 0:b.teacher)==null?void 0:_.name)??"No Examiner"})]})]}),e.jsx("div",{className:"py-5",children:"Direction: Write your learning goals, your learning activities or strategies in order to attain these goals, and the timeline."}),e.jsx(s,{sx:{border:1},children:e.jsxs("div",{className:"flex",children:[e.jsxs(s,{className:"w-[28%]  flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Learning Goals"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Kasanayang Gusto Kong Matutunan)"})]}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Delivery Mode"}),e.jsx("div",{className:"w-full text-xs text-center",children:e.jsxs(K,{fullWidth:!0,children:[e.jsx(M,{id:"demo-simple-select-label"}),e.jsxs(G,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"",onChange:E,children:[e.jsx(n,{value:"BRI",children:"BRI"}),e.jsx(n,{value:"Face to face",children:"Face to face"}),e.jsx(n,{value:"eLearning/Eskwela",children:"eLearning/Eskwela"}),e.jsx(n,{value:"Independent Learning",children:"Independent Learning"})]})]})})]}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Timeline"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Kailan mo ito gustong matutunan?)"})]}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsxs(s,{className:"w-full h-full flex flex-col items-center justify-center text-lg text-center",children:[e.jsx("div",{className:"font-bold",children:"Review of Learning Goals"}),e.jsxs(s,{sx:{borderTop:1},className:"flex items-center w-full h-full justify-center",children:[e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%] text-xs",children:"Achieved (Nakamtan)"}),e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%] text-xs",children:"Not Achieved (Hindi Nakamtan)"}),e.jsx(s,{className:"w-[33.33%] h-full text-xs",children:"Date of Review (Petsa ng pagsusuri)"})]})]})}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Learning Facilitators"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Payo ng Learning Facilitator)"})]})]})}),d==null?void 0:d.map((t,y)=>e.jsx(e.Fragment,{children:t.questionnaire.specification&&e.jsx(s,{sx:{borderLeft:1,borderRight:1,borderBottom:1},children:e.jsxs("div",{className:"flex",children:[e.jsx(s,{className:"w-[28%]  flex flex-col items-center justify-center",children:e.jsx("div",{className:" text-sm m-2",children:t.questionnaire.specification})}),e.jsx(s,{className:"w-[18%] ",sx:{borderLeft:1},children:e.jsx(l,{column:"delivery_mode",data:t})}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsx(l,{column:"timeline",data:t})}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsxs(s,{className:"flex items-center w-full h-full justify-center",children:[e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%]",children:e.jsx(l,{column:"achieved",data:t})}),e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%]",children:e.jsx(l,{column:"not_achieved",data:t})}),e.jsx(s,{className:"w-[33.33%] h-full",children:e.jsx(l,{column:"date_of_review",data:t})})]})}),e.jsx(s,{className:"w-[18%] ",sx:{borderLeft:1},children:e.jsx(l,{column:"facilitator",data:t})})]})},y)}))]})}export{Le as default};

import{j as e,g as F,u as y,r,s as R,y as S}from"./app-BakmKWt3.js";import{g as C}from"./app-thunk-Cnzz9AjL.js";import a from"./edit-ila-form-components-CaSpE9pS.js";import{u as B}from"./examiner-service-CoyHpZk_.js";import{b as P,c as D}from"./students-thunk-Dco2WH_2.js";import{c as M}from"./createSvgIcon-qeBwlbnf.js";import{B as s}from"./Box-B86tQ8QF.js";import{F as A}from"./FormLabel-BeUw1Vfi.js";import{I as H,S as K}from"./Select-D7hM-XXQ.js";import{M as n}from"./MenuItem-DcgjwPsV.js";import"./user-service-GVoY87Ey.js";import"./identifier-DeQ-l3v6.js";import"./DefaultPropsProvider-CYZIeiGq.js";import"./useTheme-DWZu_gn6.js";import"./extendSxProp-CQHUuxiy.js";import"./utils-D-Dt2_Ew.js";import"./isMuiElement-C2nViYs5.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-BoIFIjak.js";import"./Popover-CaE8UASf.js";import"./isHostComponent-DVu5iVWx.js";import"./useSlot-B_pijPVQ.js";import"./resolveComponentProps-wmeEgXBJ.js";import"./ButtonBase-CGeakxv7.js";import"./Modal-DLlmL158.js";import"./ownerWindow-CO8Ksk3k.js";import"./useTheme-BB-QA8xB.js";import"./utils-B9cy-9Us.js";import"./Paper-C_fv8hqw.js";import"./debounce-Be36O1Ab.js";import"./Grow-D2QRwTTD.js";import"./useSlotProps-DKowas96.js";import"./useControlled-COqMdM4c.js";import"./useId-BJ-l38kY.js";import"./InputBase-BwJzuFpq.js";import"./index-CE2azopI.js";import"./listItemIconClasses-BaM_SSex.js";const G=M(e.jsx("path",{d:"M19 8H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3m-3 11H8v-5h8zm3-7c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-1-9H6v4h12z"}),"Print");function Le(){var j,g,v,w,N,b;const f=F(),{student:c,scoresheet:i}=y(t=>t.students),{user:u}=y(t=>t.app);(j=c==null?void 0:c.score_sheet)==null||j.answers;const[o,h]=r.useState(""),d=(g=i==null?void 0:i.answers)==null?void 0:g.filter(t=>t.score==0),[p,l]=r.useState(!1),L=new URLSearchParams(window.location.search),m=window.location.pathname.split("/")[4],x=window.location.pathname.split("/")[5];L.get("examiner"),r.useEffect(()=>{f(C())},[f]),r.useEffect(()=>{var t;h(((t=i==null?void 0:i.examiner)==null?void 0:t.learning_center)??"")},[p]),console.log("texttext",o);function I(t){u.user_type=="2"&&l(!0)}async function k(t){if(u.user_type=="2"&&t.key=="Enter")try{await B({id:i.examiner.id,learning_center:o}),R.dispatch(P(m,x)),l(!1)}catch{l(!1)}}console.log("scoresheet",i);async function E(t){await D({id:0,booklet_id:x,student_id:m,value:t.target.value}),S.visit(window.location.href)}return e.jsxs("div",{className:"flex flex-col py-3 mx-12",children:[e.jsx("div",{children:e.jsxs("a",{href:`/get_ila/${m}/${x}`,target:"_blank",children:[e.jsx(G,{})," Print"]})}),e.jsx("div",{className:"uppercase flex items-center justify-center text-xl font-black",children:"Individual Learning Agreement"}),e.jsxs("div",{className:"flex gap-3 items-center justify-between",children:[e.jsxs("div",{children:["Name of Learner: ",(v=i==null?void 0:i.user)==null?void 0:v.name]}),e.jsx("div",{children:"Community Learning Center: ALS"})]}),e.jsxs("div",{className:"flex gap-3 items-center justify-between",children:[e.jsxs("div",{children:["Level: ",i==null?void 0:i.als_level]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{children:"Name of Learning Facilitator:"}),p?e.jsx("input",{onKeyUp:k,className:"w-full h-full  ",value:o,onChange:t=>h(t.target.value),onBlur:()=>l(!1),autoFocus:!0}):e.jsx("div",{onDoubleClick:()=>I(),children:((b=(N=(w=i==null?void 0:i.examiner)==null?void 0:w.schedule)==null?void 0:N.teacher)==null?void 0:b.name)??"No Examiner"})]})]}),e.jsx("div",{className:"py-5",children:"Direction: Write your learning goals, your learning activities or strategies in order to attain these goals, and the timeline."}),e.jsx(s,{sx:{border:1},children:e.jsxs("div",{className:"flex",children:[e.jsxs(s,{className:"w-[28%]  flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Learning Goals"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Kasanayang Gusto Kong Matutunan)"})]}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Delivery Mode"}),e.jsx("div",{className:"w-full text-xs text-center",children:e.jsxs(A,{fullWidth:!0,children:[e.jsx(H,{id:"demo-simple-select-label"}),e.jsxs(K,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"",onChange:E,children:[e.jsx(n,{value:"BRI",children:"BRI"}),e.jsx(n,{value:"Face to face",children:"Face to face"}),e.jsx(n,{value:"eLearning/Eskwela",children:"eLearning/Eskwela"}),e.jsx(n,{value:"Independent Learning",children:"Independent Learning"})]})]})})]}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Timeline"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Kailan mo ito gustong matutunan?)"})]}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsxs(s,{className:"w-full h-full flex flex-col items-center justify-center text-lg text-center",children:[e.jsx("div",{className:"font-bold",children:"Review of Learning Goals"}),e.jsxs(s,{sx:{borderTop:1},className:"flex items-center w-full h-full justify-center",children:[e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%] text-xs",children:"Achieved (Nakamtan)"}),e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%] text-xs",children:"Not Achieved (Hindi Nakamtan)"}),e.jsx(s,{className:"w-[33.33%] h-full text-xs",children:"Date of Review (Petsa ng pagsusuri)"})]})]})}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Learning Facilitators"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Payo ng Learning Facilitator)"})]})]})}),d==null?void 0:d.map((t,_)=>e.jsx(e.Fragment,{children:t.questionnaire.specification&&e.jsx(s,{sx:{borderLeft:1,borderRight:1,borderBottom:1},children:e.jsxs("div",{className:"flex",children:[e.jsx(s,{className:"w-[28%]  flex flex-col items-center justify-center",children:e.jsx("div",{className:" text-sm m-2",children:t.questionnaire.specification})}),e.jsx(s,{className:"w-[18%] ",sx:{borderLeft:1},children:e.jsx(a,{column:"delivery_mode",data:t})}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsx(a,{column:"timeline",data:t})}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsxs(s,{className:"flex items-center w-full h-full justify-center",children:[e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%]",children:e.jsx(a,{column:"achieved",data:t})}),e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%]",children:e.jsx(a,{column:"not_achieved",data:t})}),e.jsx(s,{className:"w-[33.33%] h-full",children:e.jsx(a,{column:"date_of_review",data:t})})]})}),e.jsx(s,{className:"w-[18%] ",sx:{borderLeft:1},children:e.jsx(a,{column:"facilitator",data:t})})]})},_)}))]})}export{Le as default};

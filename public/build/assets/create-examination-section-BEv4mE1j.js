import{d as g,l as _,r as o,j as e,s as f}from"./app-CLpEaRCo.js";import{T as u,C}from"./Close-BUMUQ-Ho.js";import{B as p}from"./Button-BicMyakc.js";import{D as T}from"./Dialog-Weonfxul.js";import{T as h}from"./Typography-PKSZ2G4a.js";import{I as S}from"./IconButton-Cdps9yCk.js";import{T as x}from"./TextField-D-bBeU5N.js";async function w(){try{return await g.get("/api/examinations")}catch(a){return a}}async function E(a){try{return await g.post("/api/examinations",a)}catch(n){return n}}function k(){return async function(a,n){const i=await w();return a(_.actions.setLiteracyTests(i.data.response)),i}}function N(a){return async function(n,i){return E(a)}}function I(){const[a,n]=o.useState(!1),[i,r]=o.useState({}),[t,j]=o.useState({}),[y,l]=o.useState(!1),b=()=>{n(!0)},d=()=>{n(!1)};async function v(s){try{l(!0);const c=await f.dispatch(N(i));c.status==200?(await f.dispatch(k()),l(!1),n(!1),m):(l(!1),j(c.response.data.errors))}catch{l(!1)}}return e.jsxs(o.Fragment,{children:[e.jsx(p,{variant:"outlined",onClick:b,children:"Create Examination"}),e.jsxs(T,{fullWidth:!0,open:a,onClose:d,children:[e.jsxs(u,{className:"flex items-center justify-end",children:[e.jsx(h,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Create Examination"}),e.jsx(S,{edge:"start",color:"inherit",onClick:d,"aria-label":"close",children:e.jsx(C,{})})]}),e.jsxs(u,{className:"flex-col gap-3 flex",children:[e.jsx(x,{onChange:s=>r({...i,[s.target.name]:s.target.value}),error:!!(t!=null&&t.title),helperText:(t==null?void 0:t.title)??"",name:"title",type:"text",id:"outlined-basic",label:"Title",variant:"outlined",className:"w-full"}),e.jsx(x,{onChange:s=>r({...i,[s.target.name]:s.target.value}),error:!!(t!=null&&t.sub_title),helperText:(t==null?void 0:t.sub_title)??"",name:"sub_title",type:"text",id:"outlined-basic",label:"Subtitle",variant:"outlined",className:"w-full"}),e.jsx(x,{onChange:s=>r({...i,[s.target.name]:s.target.value}),multiline:!0,rows:4,error:!!(t!=null&&t.instruction),helperText:(t==null?void 0:t.instruction)??"",name:"instruction",type:"text",id:"outlined-basic",label:"Instruction",variant:"outlined",className:"w-full"})]}),e.jsxs(u,{children:[e.jsx(h,{sx:{ml:2,flex:1},variant:"h6",component:"div"}),e.jsx(p,{disabled:y,variant:"contained",autoFocus:!0,onClick:v,children:"save"})]})]})]})}const P=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{I as C,P as c,k as g};

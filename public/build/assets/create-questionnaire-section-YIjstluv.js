import{j as e,r as p,s as _}from"./app-CLpEaRCo.js";import{T as h,C as A}from"./Close-BUMUQ-Ho.js";import{s as q,g as D}from"./questionaires-thunk-Dm0meiCV.js";import{s as B}from"./DefaultPropsProvider-BB_UqKg4.js";import{B as l}from"./Button-BicMyakc.js";import{D as E}from"./Dialog-Weonfxul.js";import{T as w}from"./Typography-PKSZ2G4a.js";import{I as L}from"./IconButton-Cdps9yCk.js";import{c as N}from"./createSvgIcon-U9cBbwN0.js";import{T as c,F as C,I as M,S as Q}from"./TextField-D-bBeU5N.js";import{F as y,a as R}from"./FormLabel-roNvzqxo.js";import{R as H,F as d,a as x}from"./RadioGroup-C-Y_Qu3_.js";import{M as j}from"./MenuItem-Ci-tI6oq.js";import"./createSimplePaletteValueFilter-CgEDGJBs.js";import"./useTheme-DyWzuE-k.js";import"./Modal-BRS9CsBZ.js";import"./ownerWindow-CO8Ksk3k.js";import"./useSlot-BPpDouID.js";import"./utils-R48jgYa2.js";import"./Paper-Bnxt2xcf.js";import"./useId-GCw7pIdS.js";import"./index-BBmdbo3U.js";import"./utils-Doq7jFsd.js";import"./Popover-DFiayVox.js";import"./isHostComponent-DVu5iVWx.js";import"./debounce-Be36O1Ab.js";import"./Grow-DBLYxaRF.js";import"./index-Bwmf5TZH.js";import"./useControlled-DKkiK3MB.js";import"./InputBase-iCe2zaAN.js";import"./isMuiElement-Cl4NMZ-J.js";import"./SwitchBase-D5_j04nJ.js";import"./listItemTextClasses-BoD_t8qX.js";const r=N(e.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),m=N(e.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");function ve(){const[I,g]=p.useState(!1),[a,i]=p.useState({}),[t,k]=p.useState({}),[T,u]=p.useState(!1),b=window.location.pathname.split("/")[4],F=()=>{g(!0)},v=()=>{g(!1)};async function S(s){const n=new FormData;n.append("examination_id",b),n.append("question",a.question),n.append("answer_key",a.answer_key),n.append("specification",a.specification),n.append("a",a.a),n.append("b",a.b),n.append("c",a.c),n.append("d",a.d),n.append("e",a.e),n.append("image_a",a.image_a),n.append("image_b",a.image_b),n.append("image_c",a.image_c),n.append("image_d",a.image_d),n.append("image_e",a.image_e);try{u(!0);const f=await _.dispatch(q({...a,examination_id:b}));f.status==200?(await _.dispatch(D()),i({}),u(!1),g(!1)):(u(!1),k(f.response.data.errors)),console.log("datass",a)}catch{u(!1)}}console.log("data",a);const o=B("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});return e.jsxs(p.Fragment,{children:[e.jsx(l,{variant:"outlined",onClick:F,children:"Create Questionnaire"}),e.jsxs(E,{fullWidth:!0,open:I,onClose:v,children:[e.jsxs(h,{className:"flex items-center justify-end",children:[e.jsx(w,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Create Questionnaire"}),e.jsx(L,{edge:"start",color:"inherit",onClick:v,"aria-label":"close",children:e.jsx(A,{})})]}),e.jsxs(h,{className:"flex-col gap-3 flex items-start justify-start w-full",children:[e.jsxs("div",{className:"w-full flex gap-4 flex-col",children:[e.jsxs(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_header?e.jsx(r,{}):e.jsx(m,{}),children:[a!=null&&a.image_header?a==null?void 0:a.image_header.name:"Upload files",e.jsx(o,{name:"image_header",type:"file",onChange:s=>i({...a,[s.target.name]:s.target.files[0]}),accept:"image/*"})]}),e.jsx(c,{onChange:s=>i({...a,[s.target.name]:s.target.value}),error:!!(t!=null&&t.question),helperText:(t==null?void 0:t.question)??"",name:"question",type:"text",id:"outlined-basic",label:"Question",variant:"outlined",className:"w-full",multiline:!0,rows:2})]}),e.jsx("div",{className:"flex items-start justify-start w-full",children:e.jsxs(y,{error:!!(t!=null&&t.answer_key),children:[e.jsx(R,{id:"demo-row-radio-buttons-group-label",children:"Answer Key"}),e.jsxs(H,{onChange:s=>i({...a,[s.target.name]:s.target.value}),row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"answer_key",children:[e.jsx(d,{value:"A",control:e.jsx(x,{}),label:"A"}),e.jsx(d,{value:"B",control:e.jsx(x,{}),label:"B"}),e.jsx(d,{value:"C",control:e.jsx(x,{}),label:"C"}),e.jsx(d,{value:"D",control:e.jsx(x,{}),label:"D"}),e.jsx(d,{value:"E",control:e.jsx(x,{}),label:"E"})]}),(t==null?void 0:t.answer_key)&&e.jsx(C,{children:t.answer_key})]})}),e.jsxs(y,{fullWidth:!0,error:!!(t!=null&&t.specification),children:[e.jsx(M,{id:"demo-simple-select-label",children:"Specification"}),e.jsxs(Q,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"specification",label:"Specification",onChange:s=>i({...a,[s.target.name]:s.target.value}),value:a.specification??"",children:[e.jsx(j,{value:"aaaa",children:"aaaa"}),e.jsx(j,{value:"bbbb",children:"bbbb"}),e.jsx(j,{value:"cccc",children:"cccc"})]}),(t==null?void 0:t.specification)&&e.jsx(C,{children:t.specification})]}),(a==null?void 0:a.image_a.name)??"",e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_a?e.jsx(r,{}):e.jsx(m,{}),children:e.jsx(o,{name:"image_a",type:"file",onChange:s=>i({...a,[s.target.name]:s.target.files[0]}),accept:"image/*"})}),e.jsx(c,{onChange:s=>i({...a,[s.target.name]:s.target.value}),error:!!(t!=null&&t.a),helperText:(t==null?void 0:t.a)??"",name:"a",type:"text",id:"outlined-basic",label:"Answer A",variant:"outlined",className:"w-full"})]}),(a==null?void 0:a.image_b.name)??"",e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_b?e.jsx(r,{}):e.jsx(m,{}),children:e.jsx(o,{name:"image_b",type:"file",onChange:s=>i({...a,[s.target.name]:s.target.files[0]}),accept:"image/*"})}),e.jsx(c,{onChange:s=>i({...a,[s.target.name]:s.target.value}),error:!!(t!=null&&t.b),helperText:(t==null?void 0:t.b)??"",name:"b",type:"text",id:"outlined-basic",label:"Answer B",variant:"outlined",className:"w-full"})]}),(a==null?void 0:a.image_c.name)??"",e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_c?e.jsx(r,{}):e.jsx(m,{}),children:e.jsx(o,{name:"image_c",type:"file",onChange:s=>i({...a,[s.target.name]:s.target.files[0]}),accept:"image/*"})}),e.jsx(c,{onChange:s=>i({...a,[s.target.name]:s.target.value}),error:!!(t!=null&&t.c),helperText:(t==null?void 0:t.c)??"",name:"c",type:"text",id:"outlined-basic",label:"Answer C",variant:"outlined",className:"w-full"})]}),(a==null?void 0:a.image_d.name)??"",e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_d?e.jsx(r,{}):e.jsx(m,{}),children:e.jsx(o,{name:"image_d",type:"file",onChange:s=>i({...a,[s.target.name]:s.target.files[0]}),accept:"image/*"})}),e.jsx(c,{onChange:s=>i({...a,[s.target.name]:s.target.value}),error:!!(t!=null&&t.d),helperText:(t==null?void 0:t.d)??"",name:"d",type:"text",id:"outlined-basic",label:"Answer D",variant:"outlined",className:"w-full"})]}),(a==null?void 0:a.image_e.name)??"",e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_e?e.jsx(r,{}):e.jsx(m,{}),children:e.jsx(o,{name:"image_e",type:"file",onChange:s=>i({...a,[s.target.name]:s.target.files[0]}),accept:"image/*"})}),e.jsx(c,{onChange:s=>i({...a,[s.target.name]:s.target.value}),error:!!(t!=null&&t.e),helperText:(t==null?void 0:t.e)??"",name:"e",type:"text",id:"outlined-basic",label:"Answer E",variant:"outlined",className:"w-full"})]}),e.jsx("div",{className:"mt-6 flex w-full items-end justify-end",children:e.jsxs(h,{children:[e.jsx(w,{sx:{ml:2,flex:1},variant:"h6",component:"div"}),e.jsx(l,{disabled:T,variant:"contained",autoFocus:!0,onClick:S,children:"save"})]})})]})]})]})}export{ve as default};

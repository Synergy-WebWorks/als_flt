import{v as be,o as ye,n as we,g as se,a as re,s as D,u as ie,b as k,f as ae}from"./DefaultPropsProvider-DweDITsp.js";import{a as xe}from"./useTheme-RJ8osFaw.js";import{r,j as x}from"./app-C7upABgG.js";import{i as Te}from"./isHostComponent-DVu5iVWx.js";import{u as Q}from"./useSlot-S5T3FnyE.js";import{M as Ee}from"./Modal-BoC9qtFZ.js";import{P as Re}from"./Paper-CotxiS6-.js";import{a as Z,o as ee}from"./ownerWindow-CO8Ksk3k.js";import{d as Ce}from"./debounce-Be36O1Ab.js";import{u as Le}from"./ButtonBase-CxLfOhTX.js";import{G as Me}from"./Grow-C5jpIZ7e.js";function Oe(o){const{theme:e,name:t,props:i}=o;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?i:be(e.components[t].defaultProps,i)}function Se({props:o,name:e,defaultTheme:t,themeId:i}){let f=xe(t);return i&&(f=f[i]||f),Oe({theme:f,name:e,props:o})}function Je({props:o,name:e}){return Se({props:o,name:e,defaultTheme:ye,themeId:we})}const ze=r.createContext({});function je(o){return se("MuiList",o)}re("MuiList",["root","padding","dense","subheader"]);const ke=o=>{const{classes:e,disablePadding:t,dense:i,subheader:f}=o;return ae({root:["root",!t&&"padding",i&&"dense",f&&"subheader"]},je,e)},De=D("ul",{name:"MuiList",slot:"Root",overridesResolver:(o,e)=>{const{ownerState:t}=o;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:o})=>!o.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:o})=>o.subheader,style:{paddingTop:0}}]}),Ke=r.forwardRef(function(e,t){const i=ie({props:e,name:"MuiList"}),{children:f,className:c,component:d="ul",dense:P=!1,disablePadding:h=!1,subheader:E,...R}=i,C=r.useMemo(()=>({dense:P}),[P]),y={...i,component:d,dense:P,disablePadding:h},a=ke(y);return x.jsx(ze.Provider,{value:C,children:x.jsxs(De,{as:d,className:k(a.root,c),ref:t,ownerState:y,...R,children:[E,f]})})});function He(o){return se("MuiPopover",o)}re("MuiPopover",["root","paper"]);function oe(o,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=o.height/2:e==="bottom"&&(t=o.height),t}function te(o,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=o.width/2:e==="right"&&(t=o.width),t}function ne(o){return[o.horizontal,o.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function j(o){return typeof o=="function"?o():o}const We=o=>{const{classes:e}=o;return ae({root:["root"],paper:["paper"]},He,e)},Ne=D(Ee,{name:"MuiPopover",slot:"Root",overridesResolver:(o,e)=>e.root})({}),Ue=D(Re,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Qe=r.forwardRef(function(e,t){const i=ie({props:e,name:"MuiPopover"}),{action:f,anchorEl:c,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:P,anchorReference:h="anchorEl",children:E,className:R,container:C,elevation:y=8,marginThreshold:a=16,open:m,PaperProps:le={},slots:ce={},slotProps:T={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:L=Me,transitionDuration:M="auto",TransitionProps:{onEntering:H,...W}={},disableScrollLock:O=!1,...pe}=i,g=(T==null?void 0:T.paper)??le,S=r.useRef(),z={...i,anchorOrigin:d,anchorReference:h,elevation:y,marginThreshold:a,externalPaperSlotProps:g,transformOrigin:w,TransitionComponent:L,transitionDuration:M,TransitionProps:W},N=We(z),U=r.useCallback(()=>{if(h==="anchorPosition")return P;const n=j(c),l=(n&&n.nodeType===1?n:Z(S.current).body).getBoundingClientRect();return{top:l.top+oe(l,d.vertical),left:l.left+te(l,d.horizontal)}},[c,d.horizontal,d.vertical,P,h]),$=r.useCallback(n=>({vertical:oe(n,w.vertical),horizontal:te(n,w.horizontal)}),[w.horizontal,w.vertical]),A=r.useCallback(n=>{const s={width:n.offsetWidth,height:n.offsetHeight},l=$(s);if(h==="none")return{top:null,left:null,transformOrigin:ne(l)};const X=U();let v=X.top-l.vertical,b=X.left-l.horizontal;const Y=v+s.height,_=b+s.width,q=ee(j(c)),J=q.innerHeight-a,K=q.innerWidth-a;if(a!==null&&v<a){const p=v-a;v-=p,l.vertical+=p}else if(a!==null&&Y>J){const p=Y-J;v-=p,l.vertical+=p}if(a!==null&&b<a){const p=b-a;b-=p,l.horizontal+=p}else if(_>K){const p=_-K;b-=p,l.horizontal+=p}return{top:`${Math.round(v)}px`,left:`${Math.round(b)}px`,transformOrigin:ne(l)}},[c,h,U,$,a]),[fe,I]=r.useState(m),u=r.useCallback(()=>{const n=S.current;if(!n)return;const s=A(n);s.top!==null&&(n.style.top=s.top),s.left!==null&&(n.style.left=s.left),n.style.transformOrigin=s.transformOrigin,I(!0)},[A]);r.useEffect(()=>(O&&window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)),[c,O,u]);const ue=(n,s)=>{H&&H(n,s),u()},de=()=>{I(!1)};r.useEffect(()=>{m&&u()}),r.useImperativeHandle(f,()=>m?{updatePosition:()=>{u()}}:null,[m,u]),r.useEffect(()=>{if(!m)return;const n=Ce(()=>{u()}),s=ee(c);return s.addEventListener("resize",n),()=>{n.clear(),s.removeEventListener("resize",n)}},[c,m,u]);let B=M;M==="auto"&&!L.muiSupportAuto&&(B=void 0);const me=C||(c?Z(j(c)).body:void 0),F={slots:ce,slotProps:{...T,paper:g}},[he,G]=Q("paper",{elementType:Ue,externalForwardedProps:F,additionalProps:{elevation:y,className:k(N.paper,g==null?void 0:g.className),style:fe?g.style:{...g.style,opacity:0}},ownerState:z}),[V,{slotProps:ge,...Pe}]=Q("root",{elementType:Ne,externalForwardedProps:F,additionalProps:{slotProps:{backdrop:{invisible:!0}},container:me,open:m},ownerState:z,className:k(N.root,R)}),ve=Le(S,G.ref);return x.jsx(V,{...Pe,...!Te(V)&&{slotProps:ge,disableScrollLock:O},...pe,ref:t,children:x.jsx(L,{appear:!0,in:m,onEntering:ue,onExited:de,timeout:B,...W,children:x.jsx(he,{...G,ref:ve,children:E})})})});export{ze as L,Qe as P,Ke as a,Ue as b,Se as c,Oe as g,Je as u};

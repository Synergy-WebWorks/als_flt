import{g as R,u as I,r,j as e,s as C,y as S}from"./app-lH_rqYJx.js";import{g as B}from"./app-thunk-BcVJT0WC.js";import l from"./edit-ila-form-components-hnkm3rpp.js";import{u as P}from"./examiner-service-DlPWan30.js";import{b as D,c as A}from"./students-thunk-DNFm9AF0.js";import{P as K}from"./Print-C_7JRmAi.js";import{B as s}from"./Box-gDfKBAb6.js";import{F as M}from"./FormLabel-CdrlwGzo.js";import{I as G,S as T}from"./Select-Dj4sWzSK.js";import{M as n}from"./MenuItem-BbDDlV6c.js";import"./user-service-D2W1I46J.js";import"./createSvgIcon-EKbqoc3-.js";import"./identifier-CGtC8pVI.js";import"./DefaultPropsProvider-C-NTnhDS.js";import"./useTheme-BGuPDOo9.js";import"./extendSxProp-NFY0wvOW.js";import"./utils-DWogl56x.js";import"./isMuiElement-C2sQX19x.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-BYQwL93P.js";import"./Popover-D3mJDHqH.js";import"./isHostComponent-DVu5iVWx.js";import"./useSlot-yBJvqYjQ.js";import"./resolveComponentProps-OpXM3J-Y.js";import"./ButtonBase-BV0x7_J7.js";import"./Modal-Bnk22VAY.js";import"./ownerWindow-CO8Ksk3k.js";import"./useTheme-BTV6B1JS.js";import"./utils-CurGyYHk.js";import"./Paper-9VZ-Didf.js";import"./debounce-Be36O1Ab.js";import"./Grow-CykTe8a9.js";import"./useSlotProps-DenuSXmI.js";import"./useControlled-Y9IbhL4B.js";import"./useId-C4Xzhki0.js";import"./InputBase-B_zLiWUB.js";import"./index-BWP3yVTj.js";import"./listItemIconClasses-D43JDD-R.js";function Ie(){var v,w,N,b,_,y;const f=R(),{student:c,scoresheet:i}=I(t=>t.students),{user:u}=I(t=>t.app);(v=c==null?void 0:c.score_sheet)==null||v.answers;const[o,h]=r.useState(""),d=(w=i==null?void 0:i.answers)==null?void 0:w.filter(t=>t.score==0),[p,a]=r.useState(!1),j=new URLSearchParams(window.location.search),g=j.get("reference_id"),m=window.location.pathname.split("/")[4],x=window.location.pathname.split("/")[5];j.get("examiner"),r.useEffect(()=>{f(B())},[f]),r.useEffect(()=>{var t;h(((t=i==null?void 0:i.examiner)==null?void 0:t.learning_center)??"")},[p]),console.log("texttext",o);function k(t){u.user_type=="2"&&a(!0)}async function E(t){if(u.user_type=="2"&&t.key=="Enter")try{await P({id:i.examiner.id,learning_center:o}),C.dispatch(D(m,x)),a(!1)}catch{a(!1)}}console.log("scoresheet",i);async function F(t){await A({id:0,booklet_id:x,student_id:m,value:t.target.value,reference_id:g}),S.visit(window.location.href)}return e.jsxs("div",{className:"flex flex-col py-3 mx-12",children:[e.jsx("div",{children:e.jsxs("a",{href:`/get_ila/${m}/${x}?reference_id=${g}`,target:"_blank",children:[e.jsx(K,{})," Print"]})}),e.jsx("div",{className:"uppercase flex items-center justify-center text-xl font-black",children:"Individual Learning Agreement"}),e.jsxs("div",{className:"flex gap-3 items-center justify-between",children:[e.jsxs("div",{children:["Name of Learner: ",(N=i==null?void 0:i.user)==null?void 0:N.name]}),e.jsx("div",{children:"Community Learning Center: ALS"})]}),e.jsxs("div",{className:"flex gap-3 items-center justify-between",children:[e.jsxs("div",{children:["Level: ",i==null?void 0:i.als_level]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{children:"Name of Learning Facilitator:"}),p?e.jsx("input",{onKeyUp:E,className:"w-full h-full  ",value:o,onChange:t=>h(t.target.value),onBlur:()=>a(!1),autoFocus:!0}):e.jsx("div",{onDoubleClick:()=>k(),children:((y=(_=(b=i==null?void 0:i.examiner)==null?void 0:b.schedule)==null?void 0:_.teacher)==null?void 0:y.name)??"No Examiner"})]})]}),e.jsx("div",{className:"py-5",children:"Direction: Write your learning goals, your learning activities or strategies in order to attain these goals, and the timeline."}),e.jsx(s,{sx:{border:1},children:e.jsxs("div",{className:"flex",children:[e.jsxs(s,{className:"w-[28%]  flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Learning Goals"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Kasanayang Gusto Kong Matutunan)"})]}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Delivery Mode"}),e.jsx("div",{className:"w-full text-xs text-center",children:e.jsxs(M,{fullWidth:!0,children:[e.jsx(G,{id:"demo-simple-select-label"}),e.jsxs(T,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"",onChange:F,children:[e.jsx(n,{value:"BRI",children:"BRI"}),e.jsx(n,{value:"Face to face",children:"Face to face"}),e.jsx(n,{value:"eLearning/Eskwela",children:"eLearning/Eskwela"}),e.jsx(n,{value:"Independent Learning",children:"Independent Learning"})]})]})})]}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Timeline"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Kailan mo ito gustong matutunan?)"})]}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsxs(s,{className:"w-full h-full flex flex-col items-center justify-center text-lg text-center",children:[e.jsx("div",{className:"font-bold",children:"Review of Learning Goals"}),e.jsxs(s,{sx:{borderTop:1},className:"flex items-center w-full h-full justify-center",children:[e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%] text-xs",children:"Achieved (Nakamtan)"}),e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%] text-xs",children:"Not Achieved (Hindi Nakamtan)"}),e.jsx(s,{className:"w-[33.33%] h-full text-xs",children:"Date of Review (Petsa ng pagsusuri)"})]})]})}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Learning Facilitators"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Payo ng Learning Facilitator)"})]})]})}),d==null?void 0:d.map((t,L)=>e.jsx(e.Fragment,{children:t.questionnaire.specification&&e.jsx(s,{sx:{borderLeft:1,borderRight:1,borderBottom:1},children:e.jsxs("div",{className:"flex",children:[e.jsx(s,{className:"w-[28%]  flex flex-col items-center justify-center",children:e.jsx("div",{className:" text-sm m-2",children:t.questionnaire.specification})}),e.jsx(s,{className:"w-[18%] ",sx:{borderLeft:1},children:e.jsx(l,{column:"delivery_mode",data:t})}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsx(l,{column:"timeline",data:t})}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsxs(s,{className:"flex items-center w-full h-full justify-center",children:[e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%]",children:e.jsx(l,{column:"achieved",data:t})}),e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%]",children:e.jsx(l,{column:"not_achieved",data:t})}),e.jsx(s,{className:"w-[33.33%] h-full",children:e.jsx(l,{column:"date_of_review",data:t})})]})}),e.jsx(s,{className:"w-[18%] ",sx:{borderLeft:1},children:e.jsx(l,{column:"facilitator",data:t})})]})},L)}))]})}export{Ie as default};

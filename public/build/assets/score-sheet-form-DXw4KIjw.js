import{u as j,r as x,s as g,j as e}from"./app-D0r9wP6x.js";import _ from"./edit-score-section-BvvV-gXN.js";import{g as E}from"./app-thunk-DGaO8UAG.js";import{C as y}from"./Check-DJ10mAjn.js";import{C}from"./Close-CJJLI7s6.js";import"./students-thunk-pdOtGmjH.js";import"./Button-BQXAY7iM.js";import"./identifier-CmdAEcuS.js";import"./DefaultPropsProvider-jNrsenNl.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./ButtonBase-B_u_S3x8.js";import"./Edit-CHoCV7Vq.js";import"./createSvgIcon-gk46-b2v.js";import"./user-service-B8ZxWl4z.js";function B(){var u;const{student:i}=j(t=>t.students),{user:p}=j(t=>t.app),[h,v]=x.useState(0),r=i==null?void 0:i.score_sheet,a=((u=r==null?void 0:r.booklet)==null?void 0:u.examinations)??[],n=(r==null?void 0:r.answers)||[];return console.log("userusedadsadr",p.user_type),x.useEffect(()=>{g.dispatch(E())},[]),x.useEffect(()=>{const t=a.reduce((d,m)=>d+m.question.reduce((l,c)=>{const s=n.find(o=>o.questionnaire_id===c.id);return l+(parseInt(s==null?void 0:s.score)||0)},0),0);v(t)},[a,n]),e.jsx("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-xl p-5 rounded-md border border-gray-300 shadow-lg bg-white",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"text-xl font-black text-center",children:"FLT LEATHER SCORESHEET"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:["Name: ",(i==null?void 0:i.name)||"N/A"]}),e.jsxs("div",{children:["Date: ",(r==null?void 0:r.date)||"N/A"]})]}),e.jsxs("div",{children:["Overall Score: ",h??"0"]}),e.jsxs("div",{children:["ALS Level: ",(r==null?void 0:r.als_level)??"N/A"]})]}),e.jsx("ol",{className:"list-decimal mt-4 space-y-4",children:a.map((t,d)=>{const m=t.question.reduce((l,c)=>{const s=n.find(o=>o.questionnaire_id===c.id);return l??0+(parseInt((s==null?void 0:s.score)??0)??0)},0);return e.jsxs("li",{className:"border border-black p-3 rounded-md",children:[e.jsx("div",{className:"flex items-center justify-between font-semibold",children:e.jsxs("div",{children:[t.title&&e.jsx("div",{children:t.title}),t.sub_title&&e.jsx("div",{children:t.sub_title})]})}),e.jsx("div",{className:"mt-2 space-y-2",children:t.question.map((l,c)=>{var f;const s=n.find(b=>b.questionnaire_id===l.id),N=((s==null?void 0:s.score)||0)>0;return e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("span",{className:"font-medium",children:[l.item_number,"."]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:(s==null?void 0:s.answer)||"No Answer"}),N?e.jsx(y,{className:"text-green-600","aria-label":"Correct"}):e.jsx(C,{className:"text-red-600","aria-label":"Incorrect"}),p.user_type=="1"&&((f=s==null?void 0:s.answer)==null?void 0:f.length)!=1&&e.jsxs(e.Fragment,{children:[(s==null?void 0:s.score)??0," ",e.jsx(_,{data:s})]})]})]},c)})}),e.jsxs("div",{className:"font-bold text-right mt-2",children:["Score: ",parseInt(m)]})]},d)})})]})})}export{B as default};

import{r as p,u as L,j as e,s as N}from"./app-B6whuzCY.js";import{C as Q}from"./Close-DOL9PiTV.js";import{s as R,e as H}from"./questionaires-thunk-0FKuuTKc.js";import{s as M}from"./DefaultPropsProvider-azdKRp2T.js";import{B as l}from"./Button-BrgoYXkg.js";import{D as O}from"./Dialog-o4oNjB-W.js";import{T as h}from"./Toolbar-D5QsN6LB.js";import{T as I}from"./Typography-CQT-9Qwo.js";import{I as U}from"./IconButton-Duxvo-2b.js";import{C as r}from"./Check-BRV_hMhi.js";import{C as m}from"./CloudUpload-B2eI-nf5.js";import{T as c,F as k}from"./TextField-CZSfbDEA.js";import{F as T,a as W}from"./FormLabel-khqSXBo3.js";import{R as G,a as d,b as u}from"./RadioGroup-BP8ZSDds.js";import{I as K,S as P}from"./Select-DrQCusij.js";import{M as S}from"./MenuItem-DZwbB4C7.js";import"./createSvgIcon-CsmouKgd.js";import"./identifier-DcVrsJ3C.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./ButtonBase-D9wBVOoc.js";import"./TransitionGroupContext-B9WckVKL.js";import"./useTheme-BjYUwFoV.js";import"./useTheme-DIuApyuo.js";import"./Modal-upIUoiPK.js";import"./ownerWindow-CO8Ksk3k.js";import"./resolveComponentProps-Ds7YWgQt.js";import"./useSlot-KiSekNFB.js";import"./utils-KHsFRHgP.js";import"./Paper-2YMYO7r4.js";import"./useId-et-2mgGD.js";import"./index-Bh6sriiz.js";import"./extendSxProp-BlVcJRnx.js";import"./utils-i4_wtccs.js";import"./isMuiElement-BZY2OAts.js";import"./SwitchBase-BitDSY1R.js";import"./useControlled-B4XaEMhT.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-1fOBRzA8.js";import"./Popover-CTVjEL71.js";import"./isHostComponent-DVu5iVWx.js";import"./debounce-Be36O1Ab.js";import"./Grow-Diia-_fI.js";import"./useSlotProps-DkearP-s.js";import"./InputBase-BDyQ6-XP.js";import"./listItemIconClasses-DNc_aezX.js";function Re(){var v,_,w,C,y;const[F,f]=p.useState(!1),[a,n]=p.useState({}),[t,A]=p.useState({}),[q,x]=p.useState(!1),D=window.location.pathname.split("/")[4],{specifications:j}=L(i=>i.questionnaires);console.log("specification",j);const B=()=>{f(!0)},b=()=>{f(!1)};async function E(i){const s=new FormData;s.append("examination_id",D),s.append("question",a.question),s.append("answer_key",a.answer_key),s.append("specification",a.specification),s.append("a",a.a),s.append("b",a.b),s.append("c",a.c),s.append("d",a.d),s.append("e",a.e),s.append("image_a",a.image_a),s.append("image_b",a.image_b),s.append("image_c",a.image_c),s.append("image_d",a.image_d),s.append("image_e",a.image_e),s.append("image_header",a.image_header);try{x(!0);const g=await N.dispatch(R(s));g.status==200?(await N.dispatch(H()),n({}),x(!1),f(!1)):(x(!1),A(g.response.data.errors)),console.log("datass",a)}catch{x(!1)}}const o=M("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});return e.jsxs(p.Fragment,{children:[e.jsx(l,{variant:"outlined",onClick:B,children:"Create Questionnaire"}),e.jsxs(O,{fullWidth:!0,open:F,onClose:b,children:[e.jsxs(h,{className:"flex items-center justify-end",children:[e.jsx(I,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Create Questionnaire"}),e.jsx(U,{edge:"start",color:"inherit",onClick:b,"aria-label":"close",children:e.jsx(Q,{})})]}),e.jsxs(h,{className:"flex-col gap-3 flex items-start justify-start w-full",children:[e.jsxs("div",{className:"w-full flex gap-4 flex-col",children:[e.jsxs(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_header?e.jsx(r,{}):e.jsx(m,{}),children:[a!=null&&a.image_header?a==null?void 0:a.image_header.name:"Upload files",e.jsx(o,{name:"image_header",type:"file",onChange:i=>n({...a,[i.target.name]:i.target.files[0]}),accept:"image/*"})]}),e.jsx(c,{onChange:i=>n({...a,[i.target.name]:i.target.value}),error:!!(t!=null&&t.question),helperText:(t==null?void 0:t.question)??"",name:"question",type:"text",id:"outlined-basic",label:"Question",variant:"outlined",className:"w-full",multiline:!0,rows:2})]}),e.jsx("div",{className:"flex items-start justify-start w-full",children:e.jsxs(T,{error:!!(t!=null&&t.answer_key),children:[e.jsx(W,{id:"demo-row-radio-buttons-group-label",children:"Answer Key"}),e.jsxs(G,{onChange:i=>n({...a,[i.target.name]:i.target.value}),row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"answer_key",children:[e.jsx("div",{children:e.jsx(d,{value:"A",control:e.jsx(u,{}),label:"A"})}),e.jsx(d,{value:"B",control:e.jsx(u,{}),label:"B"}),e.jsx(d,{value:"C",control:e.jsx(u,{}),label:"C"}),e.jsx(d,{value:"D",control:e.jsx(u,{}),label:"D"}),e.jsx(d,{value:"E",control:e.jsx(u,{}),label:"E"})]}),(t==null?void 0:t.answer_key)&&e.jsx(k,{children:t.answer_key})]})}),e.jsxs(T,{fullWidth:!0,error:!!(t!=null&&t.specification),children:[e.jsx(K,{id:"demo-simple-select-label",children:"Specification"}),e.jsxs(P,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"specification",label:"Specification",onChange:i=>n({...a,[i.target.name]:i.target.value}),value:a.specification??"",children:[e.jsx(S,{selected:!0,disabled:!0}),j.data.map((i,s)=>e.jsx(S,{value:i.specification,children:i.specification},s))]}),(t==null?void 0:t.specification)&&e.jsx(k,{children:t.specification})]}),((v=a==null?void 0:a.image_a)==null?void 0:v.name)??"",e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_a?e.jsx(r,{}):e.jsx(m,{}),children:e.jsx(o,{name:"image_a",type:"file",onChange:i=>n({...a,[i.target.name]:i.target.files[0]}),accept:"image/*"})}),e.jsx(c,{onChange:i=>n({...a,[i.target.name]:i.target.value}),error:!!(t!=null&&t.a),helperText:(t==null?void 0:t.a)??"",name:"a",type:"text",id:"outlined-basic",label:"Answer A",variant:"outlined",className:"w-full"})]}),((_=a==null?void 0:a.image_b)==null?void 0:_.name)??"",e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_b?e.jsx(r,{}):e.jsx(m,{}),children:e.jsx(o,{name:"image_b",type:"file",onChange:i=>n({...a,[i.target.name]:i.target.files[0]}),accept:"image/*"})}),e.jsx(c,{onChange:i=>n({...a,[i.target.name]:i.target.value}),error:!!(t!=null&&t.b),helperText:(t==null?void 0:t.b)??"",name:"b",type:"text",id:"outlined-basic",label:"Answer B",variant:"outlined",className:"w-full"})]}),((w=a==null?void 0:a.image_c)==null?void 0:w.name)??"",e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_c?e.jsx(r,{}):e.jsx(m,{}),children:e.jsx(o,{name:"image_c",type:"file",onChange:i=>n({...a,[i.target.name]:i.target.files[0]}),accept:"image/*"})}),e.jsx(c,{onChange:i=>n({...a,[i.target.name]:i.target.value}),error:!!(t!=null&&t.c),helperText:(t==null?void 0:t.c)??"",name:"c",type:"text",id:"outlined-basic",label:"Answer C",variant:"outlined",className:"w-full"})]}),((C=a==null?void 0:a.image_d)==null?void 0:C.name)??"",e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_d?e.jsx(r,{}):e.jsx(m,{}),children:e.jsx(o,{name:"image_d",type:"file",onChange:i=>n({...a,[i.target.name]:i.target.files[0]}),accept:"image/*"})}),e.jsx(c,{onChange:i=>n({...a,[i.target.name]:i.target.value}),error:!!(t!=null&&t.d),helperText:(t==null?void 0:t.d)??"",name:"d",type:"text",id:"outlined-basic",label:"Answer D",variant:"outlined",className:"w-full"})]}),((y=a==null?void 0:a.image_e)==null?void 0:y.name)??"",e.jsxs("div",{className:"flex gap-3 w-full",children:[e.jsx(l,{component:"label",role:void 0,variant:"contained",startIcon:a!=null&&a.image_e?e.jsx(r,{}):e.jsx(m,{}),children:e.jsx(o,{name:"image_e",type:"file",onChange:i=>n({...a,[i.target.name]:i.target.files[0]}),accept:"image/*"})}),e.jsx(c,{onChange:i=>n({...a,[i.target.name]:i.target.value}),error:!!(t!=null&&t.e),helperText:(t==null?void 0:t.e)??"",name:"e",type:"text",id:"outlined-basic",label:"Answer E",variant:"outlined",className:"w-full"})]}),e.jsx("div",{className:"mt-6 flex w-full items-end justify-end",children:e.jsxs(h,{children:[e.jsx(I,{sx:{ml:2,flex:1},variant:"h6",component:"div"}),e.jsx(l,{disabled:q,variant:"contained",autoFocus:!0,onClick:E,children:"save"})]})})]})]})]})}export{Re as default};

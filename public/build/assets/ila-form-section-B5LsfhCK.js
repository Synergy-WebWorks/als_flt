import{g as F,u as y,r,j as e,s as R,y as C}from"./app-V3uMjDlE.js";import{g as S}from"./app-thunk-BMqIBt_G.js";import l from"./edit-ila-form-components-CwS7s9nE.js";import{u as B}from"./examiner-service-CODsbKeP.js";import{b as P,c as D}from"./students-thunk-C08T9KTS.js";import{P as A}from"./Print-BiHoy3ta.js";import{B as s}from"./Box-Lfw8cjlO.js";import{F as K}from"./FormLabel-W5G-lAor.js";import{I as M,S as G}from"./Select-i-WwL_kR.js";import{M as n}from"./MenuItem-CA0Cx_0c.js";import"./user-service-DFZgwggl.js";import"./createSvgIcon-DXAUpAwC.js";import"./identifier-DcU_KgkY.js";import"./DefaultPropsProvider-Ds44ox4d.js";import"./useTheme-CtudRP0Y.js";import"./extendSxProp-Czgq9c6U.js";import"./utils-BoZ8kD-Y.js";import"./isMuiElement-BMoRevbi.js";import"./createSimplePaletteValueFilter-bm0fmN_7.js";import"./react-is.production.min-DUDD-a5e.js";import"./index-BPDfawUv.js";import"./Popover-DSXS8xiS.js";import"./isHostComponent-DVu5iVWx.js";import"./useSlot-DpnBqL26.js";import"./resolveComponentProps-D915jiCJ.js";import"./ButtonBase-DKRppHdc.js";import"./Modal-CrQwQVgh.js";import"./ownerWindow-CO8Ksk3k.js";import"./useTheme-DcYxdpt8.js";import"./utils-DiiPINAC.js";import"./Paper-CRgeeRPo.js";import"./debounce-Be36O1Ab.js";import"./Grow-CLleeg_3.js";import"./useSlotProps-CeYNkQQF.js";import"./useControlled-BqC7KR8B.js";import"./useId-eBVYJ0Cy.js";import"./InputBase-Cq5IpxNs.js";import"./index-C8gQQ6Qp.js";import"./listItemIconClasses-P2CMXFR4.js";function Le(){var j,g,v,w,N,b;const f=F(),{student:c,scoresheet:i}=y(t=>t.students),{user:u}=y(t=>t.app);(j=c==null?void 0:c.score_sheet)==null||j.answers;const[o,h]=r.useState(""),d=(g=i==null?void 0:i.answers)==null?void 0:g.filter(t=>t.score==0),[p,a]=r.useState(!1),L=new URLSearchParams(window.location.search),m=window.location.pathname.split("/")[4],x=window.location.pathname.split("/")[5];L.get("examiner"),r.useEffect(()=>{f(S())},[f]),r.useEffect(()=>{var t;h(((t=i==null?void 0:i.examiner)==null?void 0:t.learning_center)??"")},[p]),console.log("texttext",o);function I(t){u.user_type=="2"&&a(!0)}async function k(t){if(u.user_type=="2"&&t.key=="Enter")try{await B({id:i.examiner.id,learning_center:o}),R.dispatch(P(m,x)),a(!1)}catch{a(!1)}}console.log("scoresheet",i);async function E(t){await D({id:0,booklet_id:x,student_id:m,value:t.target.value}),C.visit(window.location.href)}return e.jsxs("div",{className:"flex flex-col py-3 mx-12",children:[e.jsx("div",{children:e.jsxs("a",{href:`/get_ila/${m}/${x}`,target:"_blank",children:[e.jsx(A,{})," Print"]})}),e.jsx("div",{className:"uppercase flex items-center justify-center text-xl font-black",children:"Individual Learning Agreement"}),e.jsxs("div",{className:"flex gap-3 items-center justify-between",children:[e.jsxs("div",{children:["Name of Learner: ",(v=i==null?void 0:i.user)==null?void 0:v.name]}),e.jsx("div",{children:"Community Learning Center: ALS"})]}),e.jsxs("div",{className:"flex gap-3 items-center justify-between",children:[e.jsxs("div",{children:["Level: ",i==null?void 0:i.als_level]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{children:"Name of Learning Facilitator:"}),p?e.jsx("input",{onKeyUp:k,className:"w-full h-full  ",value:o,onChange:t=>h(t.target.value),onBlur:()=>a(!1),autoFocus:!0}):e.jsx("div",{onDoubleClick:()=>I(),children:((b=(N=(w=i==null?void 0:i.examiner)==null?void 0:w.schedule)==null?void 0:N.teacher)==null?void 0:b.name)??"No Examiner"})]})]}),e.jsx("div",{className:"py-5",children:"Direction: Write your learning goals, your learning activities or strategies in order to attain these goals, and the timeline."}),e.jsx(s,{sx:{border:1},children:e.jsxs("div",{className:"flex",children:[e.jsxs(s,{className:"w-[28%]  flex flex-col items-center justify-center",children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Learning Goals"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Kasanayang Gusto Kong Matutunan)"})]}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Delivery Mode"}),e.jsx("div",{className:"w-full text-xs text-center",children:e.jsxs(K,{fullWidth:!0,children:[e.jsx(M,{id:"demo-simple-select-label"}),e.jsxs(G,{labelId:"demo-simple-select-label",id:"demo-simple-select",label:"",onChange:E,children:[e.jsx(n,{value:"BRI",children:"BRI"}),e.jsx(n,{value:"Face to face",children:"Face to face"}),e.jsx(n,{value:"eLearning/Eskwela",children:"eLearning/Eskwela"}),e.jsx(n,{value:"Independent Learning",children:"Independent Learning"})]})]})})]}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Timeline"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Kailan mo ito gustong matutunan?)"})]}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsxs(s,{className:"w-full h-full flex flex-col items-center justify-center text-lg text-center",children:[e.jsx("div",{className:"font-bold",children:"Review of Learning Goals"}),e.jsxs(s,{sx:{borderTop:1},className:"flex items-center w-full h-full justify-center",children:[e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%] text-xs",children:"Achieved (Nakamtan)"}),e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%] text-xs",children:"Not Achieved (Hindi Nakamtan)"}),e.jsx(s,{className:"w-[33.33%] h-full text-xs",children:"Date of Review (Petsa ng pagsusuri)"})]})]})}),e.jsxs(s,{className:"w-[18%] ",sx:{borderLeft:1},children:[e.jsx("div",{className:"w-full font-bold text-lg text-center",children:"Learning Facilitators"}),e.jsx("div",{className:"w-full text-xs text-center",children:"(Payo ng Learning Facilitator)"})]})]})}),d==null?void 0:d.map((t,_)=>e.jsx(e.Fragment,{children:t.questionnaire.specification&&e.jsx(s,{sx:{borderLeft:1,borderRight:1,borderBottom:1},children:e.jsxs("div",{className:"flex",children:[e.jsx(s,{className:"w-[28%]  flex flex-col items-center justify-center",children:e.jsx("div",{className:" text-sm m-2",children:t.questionnaire.specification})}),e.jsx(s,{className:"w-[18%] ",sx:{borderLeft:1},children:e.jsx(l,{column:"delivery_mode",data:t})}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsx(l,{column:"timeline",data:t})}),e.jsx(s,{className:"w-[18%]",sx:{borderLeft:1},children:e.jsxs(s,{className:"flex items-center w-full h-full justify-center",children:[e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%]",children:e.jsx(l,{column:"achieved",data:t})}),e.jsx(s,{sx:{borderRight:1},className:"h-full w-[33.33%]",children:e.jsx(l,{column:"not_achieved",data:t})}),e.jsx(s,{className:"w-[33.33%] h-full",children:e.jsx(l,{column:"date_of_review",data:t})})]})}),e.jsx(s,{className:"w-[18%] ",sx:{borderLeft:1},children:e.jsx(l,{column:"facilitator",data:t})})]})},_)}))]})}export{Le as default};
